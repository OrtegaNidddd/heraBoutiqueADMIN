<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hera Admin</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/inventario.css">
    <script src="https://kit.fontawesome.com/a1ddf57449.js" crossorigin="anonymous"></script>
</head>
<body>
    <header id="nav">
        <h1>INVENTARIO</h1>
        <button onclick="inicio()" class="backButton">Volver</button>
        
    </header>
    <main>
        <div id="buttons">
            <button onclick="actualizarInventario()" class="primaryButton">Actualizar inventario</button>
            <button onclick="actualizarInventario()" class="secondaryButton">Borrar filtros</button>
        </div>
        <!-- Formulario de búsqueda y filtros -->
        <form method="GET" action="/inventario" id="filterContainer">
            <input class="filter" type="text" name="search" placeholder="Buscar por nombre o referencia" value="<%= search %>" />
            
            <button type="submit" id="filterButton"><i class="fa-solid fa-magnifying-glass"></i></button>
        </form>

        <!-- Tabla de clientes -->
        <table border="1">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Nombre de Producto</th>
                    <th>Precio</th>
                    <th>Stock Actual</th>
                    <th>Referencia</th>
                </tr>
            </thead>
            <tbody>
                <% if (resultado.length > 0) { %>
                    <% resultado.forEach((inventario) => { %>
                        <tr>
                            <td><%= inventario.id_producto %></td>
                            <td><%= inventario.nombre %></td>
                            <td><%= inventario.precio %></td>
                            <td><%= inventario.stock_actual %></td>
                            <td><%= inventario.referencia %></td>
                        </tr>
                    <% }) %>
                <% } else { %>
                    <tr>
                        <td colspan="9">No hay productos disponibles.</td>
                    </tr>
                <% } %>
            </tbody>
        </table>

        <!-- Paginación -->
        <div id="containerPaginacion">
            <% for (let i = 1; i <= totalPages; i++) { %>
                <a href="/inventario?page=<%= i %>&limit=<%= limit %>&search=<%= search %>&filter=<%= filter %>" id="numberPaginacion"><%= i %></a>
            <% } %>
        </div>
    </main>
    <script src="../js/script.js"></script>
</body>
</html>